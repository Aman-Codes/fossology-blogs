(self.webpackChunkfossology_blogs=self.webpackChunkfossology_blogs||[]).push([[1940],{3905:function(e,t,r){"use strict";r.d(t,{Zo:function(){return u},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=l(r),f=a,b=m["".concat(c,".").concat(f)]||m[f]||p[f]||o;return r?n.createElement(b,i(i({ref:t},u),{},{components:r})):n.createElement(b,i({ref:t},u))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},1378:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return c},default:function(){return u}});var n=r(2122),a=r(9756),o=(r(7294),r(3905)),i={},s={unversionedId:"docs/DbManager",id:"docs/DbManager",isDocsHomePage:!1,title:"DbManager",description:"The Fossology\\Lib\\Db\\DbManager (in directory src/lib/php/Db/) is a central class for communication with the database. Its constructor expects an Logger instance. After setting the driver, the functions listed below are available. The DbManager will check errors and log the used time.",source:"@site/docs/docs/DbManager.md",sourceDirName:"docs",slug:"/docs/DbManager",permalink:"/fossology-blogs/docs/docs/DbManager",editUrl:"https://github.com/Aman-Codes/fossology-blogs/edit/master/docs/docs/DbManager.md",version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"DbManager-c",permalink:"/fossology-blogs/docs/docs/DbManager-c"},next:{title:"Core files",permalink:"/fossology-blogs/docs/docs/Debugging-tips"}},c=[],l={toc:c};function u(e){var t=e.components,r=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The Fossology\\Lib\\Db\\DbManager")," (in directory src/lib/php/Db/) is a central class for communication with the database. Its constructor expects an Logger instance. After setting the driver, the functions listed below are available. The DbManager will check errors and log the used time."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"prepare($statementName, $sqlStatement): prepares the (single) query $sqlStatement which avoids SQL injections",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"example: $dbManger->prepare('limitedPrimes','SELECT number FROM primes WHERE number<$1')"))),(0,o.kt)("li",{parentName:"ul"},"execute($statementName ","[, $params]",") returns the ressource of query (with optional Parameters)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"example: $dbManager->execute('limitedPrimes',array(3))"))),(0,o.kt)("li",{parentName:"ul"},"fetchArray returns associated array"),(0,o.kt)("li",{parentName:"ul"},"freeResult unsets the ressource"),(0,o.kt)("li",{parentName:"ul"},"getSingleRow: prepares, executes, fetches first row and frees the ressource as condensed function")),(0,o.kt)("p",null,"A global instance of this class is available via "),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"$container->get('db.manager')")),(0,o.kt)("p",null,'which requries "src/lib/php/common.php". The configuration of this instance is done in "src/lib/php/services.xml".'))}u.isMDXComponent=!0}}]);