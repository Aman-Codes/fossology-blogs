<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/fossology-blogs/blog/rss.xml" title="FOSSology Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fossology-blogs/blog/atom.xml" title="FOSSology Blog Atom Feed"><title data-react-helmet="true">Database | FOSSology</title><meta data-react-helmet="true" property="og:url" content="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Database"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Database | FOSSology"><meta data-react-helmet="true" name="description" content="Creating a new instance of the database"><meta data-react-helmet="true" property="og:description" content="Creating a new instance of the database"><link data-react-helmet="true" rel="shortcut icon" href="/fossology-blogs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Database"><link data-react-helmet="true" rel="alternate" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Database" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Database" hreflang="x-default"><link rel="stylesheet" href="/fossology-blogs/assets/css/styles.3dee929f.css">
<link rel="preload" href="/fossology-blogs/assets/js/runtime~main.79e86940.js" as="script">
<link rel="preload" href="/fossology-blogs/assets/js/main.8bcf8826.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fossology-blogs/"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">FOSSology</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/fossology-blogs/docs/welcome">Documentation</a><a class="navbar__item navbar__link" href="/fossology-blogs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/fossology-blogs/"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">FOSSology</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/fossology-blogs/docs/welcome">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/fossology-blogs/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fossology-blogs/docs/welcome">Welcome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GSoC 2021</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/GSoC2021">GSoC2021</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Adding React library to new UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/pre-GSoC">Pre-GSoCÂ journey</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/mid-Evaluations">Mid Evaluations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/end-Evaluations">End Evaluations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Copyright False Positive Detection Using ML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/copyright-false-positive-detection-using-ML/congratulations">Congratulations!</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GSoC 2020</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2020/GSoC2020">GSoC2020</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Access-Control">Access-Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Ant-build-file-example-for-test-execution">Ant-build-file-example-for-test-execution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Autoloading">Autoloading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Buckets">Buckets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Building-Fossology-using-pbuilder">Building Fossology using [[project builder| http://www.project-builder.org/]]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Coding-Style">Coding-Style</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Composer">Composer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Configuration-and-Tuning">Configuration-and-Tuning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Copyright">Copyright</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/fossology-blogs/docs/docs/Database">Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/DbManager-c">DbManager-c</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/DbManager">DbManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Debugging-tips">Core files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Definition-of-Done">Definition-of-Done</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Dependency-injection">Dependency-injection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Documentation-Generation">Documentation-Generation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Download-Source-via-Git">Download-Source-via-Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/ECC">ECC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Email-notification-configuration">Email notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/External-authentication-configuration">External-authentication-configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.0-Release-Announcement">FOSSology-3.0-Release-Announcement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.1-Release-Announcement-(Working-Version)">FOSSology-3.1-Release-Announcement-(Working-Version)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.1-Release-Candidate-Announcement">FOSSology-3.1-Release-Candidate-Announcement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.2-Release-Announcement-(Working-Version)">FOSSology-3.2-Release-Announcement-(Working-Version)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Agents">FOSSology-Agents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Debian-Package-Process">Building FOSSology Debian packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Docker-testing-on-Ubuntu">FOSSology-Docker-testing-on-Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-REST-API">Basic guide to FOSSology REST API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Test-Automation">FOSSology-Test-Automation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-scanners-in-CI">License/Copyright scanning automation using FOSSology in CI tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/File-Comparing-and-Diff-type-plugins">File-Comparing-and-Diff-type-plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/File-Locations">File-Locations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FossDash:-Deploy-and-Configure">Configuration guide for FossDash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Fossology-E2E-Tests">Fossology-E2E-Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/General-Administration-Notes">General-Administration-Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Git-basic-commands">Git-basic-commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Global-System-Configuration-Variables">Global-System-Configuration-Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2019">Google-Summer-of-Code-Proposals-2019</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2020">Google-Summer-of-Code-Proposals-2020</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2021">Google-Summer-of-Code-Proposals-2021</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Groups-and-Access-Rights-configuration">Groups-and-Access-Rights-configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/HACKING">HACKING</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Home">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-To-Create-An-Agent">How-To-Create-An-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-to-create-a-new-release">How to Create a New Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-to-query-an-agent-for-version">How-to-query-an-agent-for-version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Improving-IO-performance">I/O scheduling in Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Install-Fossology-on-a-Jenkins-Server">Install-Fossology-on-a-Jenkins-Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Install-from-Source">Install-from-Source</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Job-Scheduler">Job-Scheduler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Known-Security-Risks">Known-Security-Risks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/License-Browser-filter">License-Browser-filter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/License-Ref-Table">License-Ref-Table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Maintenance-Agent">Maintenance-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Migration-to-UTF-8-DB">Introduction to problem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Mimetype-Agent">Mimetype-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Monk">Monk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/MonkBulk">The Monk bulk scan is a way to conclude licenses based on text snippets contained in a file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Namespaces">Namespaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/New-at-FOSSology,-You-Could-...">New-at-FOSSology,-You-Could-...</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Nomos">Nomos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Notepad-Building-Packages">Notepad-Building-Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Notes-on-SQL-Database-Operations">Notes-on-SQL-Database-Operations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Obligations-management">Obligations-management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PHP-Debugging-with-Apache">PHP-Debugging-with-Apache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PHP-Object-Baseclass">New information since PHP7.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Package-Agent">Package-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Permissions-and-Groups">Permissions-and-Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PhpUnit-Test-Coverage">PhpUnit-Test-Coverage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Programming-for-the-Job-Queue">Programming-for-the-Job-Queue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/REST-API">Note</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Notes">Release-Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Process">Release Process (aka the Release Checklist)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Testing">Release Testing and Criteria</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Releases">Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Reporting-bugs">Reporting-bugs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Repository">Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/S3-Backup">S3-Backup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Scheduler-Pre-2.0">Scheduler-Pre-2.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Setup-a-Chroot-environment">Setup-a-Chroot-environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Spasht-Agent">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Tagging">Tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Twig">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/UI-Architecture-Overview">UI-Architecture-Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Writing-Agents-&amp;-Plugins">Writing-Agents-&amp;-Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Writing-a-FOSSology-agent-(new-work-in-progress)">Writing-a-FOSSology-agent-(new-work-in-progress)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/fossology-gold-the-master-database-schema">fossology-gold-the-master-database-schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/i18N-Internationalization">i18N Internationalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/vagrant">vagrant</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial - Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-page">Create a Page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-document">Create a Document</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-blog-post">Create a Blog Post</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/markdown-features">Markdown Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/deploy-your-site">Deploy your site</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/congratulations">Congratulations!</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial - Extras</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-extras/manage-docs-versions">Manage Docs Versions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-extras/translate-your-site">Translate your site</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Database</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-a-new-instance-of-the-database"></a>Creating a new instance of the database<a class="hash-link" href="#creating-a-new-instance-of-the-database" title="Direct link to heading">#</a></h2><p>The Postgres command, pg_dump, can be used to dump the sql statements required to build the database schema and define users, functions, views, etc. When used with the options below, this will dump only the schema (not any database contents) to file ossdb.sql.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pg_dump --create -f ossdb.sql -s ossdb</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For our purposes, the only user should be user &quot;fossy&quot;. So the next step is to create that user (role) by adding to ossdb.sql:</p><p>create role fossy with option createdb login password fossy</p><p><strong>NOTE:</strong> The password must match that in /usr/local/share/fossology/dbconnect/</p><p>After the this load file (ossdb.sql) has been created, keep it in a version control system to make future deployments easier.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="db-api-libfossdb"></a>DB API (libfossdb)<a class="hash-link" href="#db-api-libfossdb" title="Direct link to heading">#</a></h3><p><strong>NOTE: Not all of us agree with the logic below and prefer to use direct libpq calls since they are much more powerful and we don&#x27;t have to maintain the interface described here.</strong></p><p>There are two ways that applications can access the DB. Either they can use the Postgres function calls, or they can use the generic DB API.</p><p>Programs that use the Postgres library have access to every possible function and return value available from Postgres. However, there are some detracting issues to consider:</p><ul><li><p>Complexity. While the Postgres API gives a very complete level of control, it is also overly complicated.</p></li><li><p>Portability. Developing for Postgres mean developing for a specific version of Postgres. If the database is every upgraded or replaced with a different DB, then you will need to modify every program that uses the DB.</p></li><li><p>Consistency. Since every program will implement their DB interface independently, it is very possible for one program to be missing a critical function that another program has. Every program will be different.</p></li></ul><p>Although there are some generic DB APIs available, I found them to either be too complicated or in need of wrappers to work with our DB configuration. The solution was libfossdb -- the generic DB API. This is a very simple API for accessing the DB used by the FOSSology analysis system. The functions are minimalistic and intended to be used without knowledge of Postgres (but knowledge of SQL is required).</p><p>By using the <strong>libfossdb</strong>, all applications use the same DB functions. If a problem occurs or we change databases, then only the API needs to be altered. In addition, the API ensures that all tools implement the DB interface the same way.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="data-structures"></a>Data Structures<a class="hash-link" href="#data-structures" title="Direct link to heading">#</a></h2><p>Applications using libfossdb manage a &quot;void *&quot; structure that contains DB information. Under normal circumstances, the application should never need to access the actual contents of this structure. The structure is allocated by DBopen() and freed by DBclose().</p><p>For specific details, the structure is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly C"><div tabindex="0" class="prism-code language-C codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct dbapi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /****</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    This is a DB-specific structure</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    It holds connections and results.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    All manipulations should use the DB API to access it.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    If the DB ever changes, just change this structure (for state)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    and the DB functions.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ****/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PGconn *Conn; /* DB-specific connection */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PGresult *Res; /* result from query */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">} ;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">typedef struct dbapi dbapi;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>NOTE</strong>: If the DB or API changes, then this structure may change! Non-libfossdb functions should not depend on the contents of this structure! (This is why all applications of the API simple manage a void pointer. They don&#x27;t need to see the internals.)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h3><p>The following functions are defined by the libfossdb.</p><p><strong>void * DBopen ()</strong></p><p>This function initiates a connection to the DB and returns a handle for the DB connection. This function will use a configuration file that contains the DB login account and password.</p><ol><li><p>If the environment variable $DBCONF is defined, then it specifies the path to the configuration file.</p></li><li><p>If $DBCONF is undefined, then /etc/ossdb/dbconnect/ossdb is used.</p></li></ol><p><strong>void DBclose (void *DB)</strong></p><p>This function closes the DB connection created by DBopen() and frees the data structure. Even if the DB connection closes prematurely, this function must be called to free the memory.</p><p><strong>void <em> DBmove (void </em>DB)</strong></p><p>The DB structure stores the connection and the results from the last SQL command. If you need to created a SQL query from a DB results (e.g., looping over the DB results), then you will need to move the results from the last command to a different handle. This function detaches the results from the DB handle and returns a new handle containing the results.</p><p>DBnew = DBmove(DBold);</p><p>There are some warnings when using this function:</p><ul><li><p>The results (DBnew) contains data but not an open DB connection. You cannot use this handle to communicate with the DB but you can use it to access the results from a previous query.</p></li><li><p>When you are finished with the handle, you must call DBclose(). For example: DBnew = DBmove(DBold); DBclose(DBnew); Closing the data handle does not close the DB connection from the original (DBold) handle.</p></li><li><p>There is no way to re-attach the data to the old handle.</p></li></ul><p><strong>int DBaccess (void <em>DB, char </em>SQL)</strong></p><p>This is the main function for the entire API. Given a DB handle created from DBopen() and an SQL query, perform the query. There are a few possible result codes:</p><ul><li><ol start="0"><li>This value indicates that the query was successful, but there are no results. This usually happens when the SQL query performs an INSERT or UPDATE.</li></ol></li><li><ol><li>This value indicates that the query was successful, and there are results. This usually happens when the SQL query performs a SELECT. <strong>NOTE</strong>: The results may be empty -- zero returns rows is different from no returned rows.</li></ol></li><li><p>-1. The query failed due to a constraint error. The exact constraint is not specified.</p></li><li><p>-2. The query failed due to an unspecified error.</p></li><li><p>-3. The query timed out. By default the timeout is set to two minutes.</p></li></ul><p><strong>int DBdatasize (void *DB)</strong></p><p>If there is data available, this identifies the number of rows returned. If there is no data (DBaccess() returned 0) or the DB handle is invalid, then -1 is returned. If the DBaccess() returned 1 but there is no data, then 0 is returned.</p><p><strong>int DBcolsize (void *DB)</strong></p><p>Returns the number of columns in the result. If there is no data (DBaccess() returned 0) or the DB handle is invalid, then -1 is returned. If the DBaccess() returned 1 but there is no data, then the number of columns will still be returned.</p><p><code>char * DBgetcolname (void *DB, int Col)</code></p><p>Returns the name of a specific column, or NULL if the column does not exist. This returns a pointer to a static memory location. The caller must <strong>NOT</strong> modify or free this value.</p><p><code>int DBgetcolnum (void *DB, char *ColName)</code></p><p>Given a string, return the number of the column whose name matches the string. -1 is returned if the column does not exist.</p><p><code>char * DBgetvalue (void *DB, int Row, int Col)</code></p><p>Return the contents of a cell in the results table, or NULL if the column does not exist. This returns a pointer to a static memory location. The caller must <strong>NOT</strong> modify or free this value.</p><p><code>char * DBgetvaluename(DB,Row,ColName)</code></p><p>This macro returns the contents of a cell, but the column is specified by name rather than number. NULL is returned if the row or column does not exist. This returns a pointer to a static memory location. The caller must <strong>NOT</strong> modify or free this value.</p><p><code>int DBisnull (void *DB, int Row, int Col)</code></p><p>The DBgetvalue() function does not distinguish between a non-existant cell and one with a value of NULL. This function determines if the cell is defined and has a value of NULL. It returns 1 if the cell is NULL and 0 if it is non-NULL or undefined.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sample-usage"></a>Sample Usage<a class="hash-link" href="#sample-usage" title="Direct link to heading">#</a></h3><p>An example use of the libfossdb API:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly C"><div tabindex="0" class="prism-code language-C codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">void * DB; /* DB handle */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int rc; /* return code */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">char *SQL; /* the SQL query to run */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int i,j; /* iterators */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DB = DBopen();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!DB) { fprintf(stderr,&quot;ERROR: Could not connect to the DB\n&quot;); exit(1); }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rc = DBaccess(DB,SQL);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">switch(rc)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  case 0: /* Ok, Got no results. Likely due to an INSERT or UPDATE SQL query */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  case 1: /* Got results.  Likely due to a SELECT query */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* Display results */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for(i=0; i&lt;DBgetdatasize(DB); i++) /* for each row */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      printf(&quot;=====\n&quot;);  /* record separator */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      for(j=0; j&lt;DBcolsize(DB); j++) /* for each column */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        printf(&quot;%s: %s\n&quot;,DBgetcolname(DB,j), DBgetvalue(DB,i,j));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  default:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     fprintf(stderr,&quot;ERROR running SQL command: %s\n&quot;,SQL);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DBclose(DB);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="test-applications"></a>Test Applications<a class="hash-link" href="#test-applications" title="Direct link to heading">#</a></h3><p>The following test applications are provided with the libfossdb library.</p><p><strong>dbtest</strong></p><p>This stand-alone program runs DBopen(). It reads SQL commands from stdin and calls DBaccess(). All results are displayed to stdout. When EOF is received (stdin is closed), DBclose() is called.</p><p>This is a very poor replacement for psql. In particlar, psql can handle multiple-line SQL commands and returns very verbose messages. In contrast, the dbtest program is more than adequate for testing the library&#x27;s functions.</p><p><strong>dbq</strong></p><p>This program queries the job and jobqueue tables using the same calls that the Scheduler uses.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Usage: ./dbq &lt;command&gt; [args]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Commands:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    list :: list ALL elements in the queue.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      If args are provided then only list those queue items</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    top :: list top elements in the queue.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      If args are provided then only list those queue items</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    add  :: add a queue item.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Args are field=value pairs to be inserted.  They should be SQL compliant</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      If no args, then you will be prompted for every value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    update :: update an existing queue item.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      1st arg type of record modify: &#x27;job&#x27; or &#x27;jobqueue&#x27;.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      2nd arg is the ID of the record to modify.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Remaining Args are field=value pairs to be modified.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      They should be SQL compliant</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      If no args, then you will be prompted for every value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    delete :: remove an existing queue item.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      Args are JOB IDs of the queue item to delete.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      This also removes all associated JOBQUEUE records.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Aman-Codes/fossology-blogs/edit/master/docs/docs/Database.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fossology-blogs/docs/docs/Copyright"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Copyright</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fossology-blogs/docs/docs/DbManager-c"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DbManager-c Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-new-instance-of-the-database" class="table-of-contents__link">Creating a new instance of the database</a><ul><li><a href="#db-api-libfossdb" class="table-of-contents__link">DB API (libfossdb)</a></li></ul></li><li><a href="#data-structures" class="table-of-contents__link">Data Structures</a><ul><li><a href="#functions" class="table-of-contents__link">Functions</a></li><li><a href="#sample-usage" class="table-of-contents__link">Sample Usage</a></li><li><a href="#test-applications" class="table-of-contents__link">Test Applications</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fossology-blogs/docs/welcome">Documentation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/fossology/shared_invite/enQtNzI0OTEzMTk0MjYzLTYyZWQxNDc0N2JiZGU2YmI3YmI1NjE4NDVjOGYxMTVjNGY3Y2MzZmM1OGZmMWI5NTRjMzJlNjExZGU2N2I5NGY" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZGPJnQZVnEPQWxOuNamLpw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fossology-blogs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 FOSSology. All Rights Reserved.</div></div></div></footer></div>
<script src="/fossology-blogs/assets/js/runtime~main.79e86940.js"></script>
<script src="/fossology-blogs/assets/js/main.8bcf8826.js"></script>
</body>
</html>