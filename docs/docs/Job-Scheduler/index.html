<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/fossology-blogs/blog/rss.xml" title="FOSSology Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fossology-blogs/blog/atom.xml" title="FOSSology Blog Atom Feed"><title data-react-helmet="true">Job-Scheduler | FOSSology</title><meta data-react-helmet="true" property="og:url" content="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Job-Scheduler"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Job-Scheduler | FOSSology"><meta data-react-helmet="true" name="description" content="The FOSSology job scheduler is a daemon that periodically checks the job queue and spawns agents to run scans.  Multiple jobs can be run simultaneously as defined in fossology.conf."><meta data-react-helmet="true" property="og:description" content="The FOSSology job scheduler is a daemon that periodically checks the job queue and spawns agents to run scans.  Multiple jobs can be run simultaneously as defined in fossology.conf."><link data-react-helmet="true" rel="shortcut icon" href="/fossology-blogs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Job-Scheduler"><link data-react-helmet="true" rel="alternate" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Job-Scheduler" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Job-Scheduler" hreflang="x-default"><link rel="stylesheet" href="/fossology-blogs/assets/css/styles.3dee929f.css">
<link rel="preload" href="/fossology-blogs/assets/js/runtime~main.79e86940.js" as="script">
<link rel="preload" href="/fossology-blogs/assets/js/main.8bcf8826.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fossology-blogs/"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">FOSSology</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/fossology-blogs/docs/welcome">Documentation</a><a class="navbar__item navbar__link" href="/fossology-blogs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/fossology-blogs/"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">FOSSology</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/fossology-blogs/docs/welcome">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/fossology-blogs/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fossology-blogs/docs/welcome">Welcome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GSoC 2021</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/GSoC2021">GSoC2021</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Adding React library to new UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/pre-GSoC">Pre-GSoCÂ journey</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/mid-Evaluations">Mid Evaluations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/end-Evaluations">End Evaluations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Copyright False Positive Detection Using ML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/copyright-false-positive-detection-using-ML/congratulations">Congratulations!</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GSoC 2020</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2020/GSoC2020">GSoC2020</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Access-Control">Access-Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Ant-build-file-example-for-test-execution">Ant-build-file-example-for-test-execution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Autoloading">Autoloading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Buckets">Buckets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Building-Fossology-using-pbuilder">Building Fossology using [[project builder| http://www.project-builder.org/]]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Coding-Style">Coding-Style</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Composer">Composer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Configuration-and-Tuning">Configuration-and-Tuning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Copyright">Copyright</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Database">Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/DbManager-c">DbManager-c</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/DbManager">DbManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Debugging-tips">Core files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Definition-of-Done">Definition-of-Done</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Dependency-injection">Dependency-injection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Documentation-Generation">Documentation-Generation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Download-Source-via-Git">Download-Source-via-Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/ECC">ECC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Email-notification-configuration">Email notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/External-authentication-configuration">External-authentication-configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.0-Release-Announcement">FOSSology-3.0-Release-Announcement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.1-Release-Announcement-(Working-Version)">FOSSology-3.1-Release-Announcement-(Working-Version)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.1-Release-Candidate-Announcement">FOSSology-3.1-Release-Candidate-Announcement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.2-Release-Announcement-(Working-Version)">FOSSology-3.2-Release-Announcement-(Working-Version)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Agents">FOSSology-Agents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Debian-Package-Process">Building FOSSology Debian packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Docker-testing-on-Ubuntu">FOSSology-Docker-testing-on-Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-REST-API">Basic guide to FOSSology REST API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Test-Automation">FOSSology-Test-Automation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-scanners-in-CI">License/Copyright scanning automation using FOSSology in CI tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/File-Comparing-and-Diff-type-plugins">File-Comparing-and-Diff-type-plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/File-Locations">File-Locations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FossDash:-Deploy-and-Configure">Configuration guide for FossDash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Fossology-E2E-Tests">Fossology-E2E-Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/General-Administration-Notes">General-Administration-Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Git-basic-commands">Git-basic-commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Global-System-Configuration-Variables">Global-System-Configuration-Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2019">Google-Summer-of-Code-Proposals-2019</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2020">Google-Summer-of-Code-Proposals-2020</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2021">Google-Summer-of-Code-Proposals-2021</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Groups-and-Access-Rights-configuration">Groups-and-Access-Rights-configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/HACKING">HACKING</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Home">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-To-Create-An-Agent">How-To-Create-An-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-to-create-a-new-release">How to Create a New Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-to-query-an-agent-for-version">How-to-query-an-agent-for-version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Improving-IO-performance">I/O scheduling in Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Install-Fossology-on-a-Jenkins-Server">Install-Fossology-on-a-Jenkins-Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Install-from-Source">Install-from-Source</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/fossology-blogs/docs/docs/Job-Scheduler">Job-Scheduler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Known-Security-Risks">Known-Security-Risks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/License-Browser-filter">License-Browser-filter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/License-Ref-Table">License-Ref-Table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Maintenance-Agent">Maintenance-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Migration-to-UTF-8-DB">Introduction to problem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Mimetype-Agent">Mimetype-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Monk">Monk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/MonkBulk">The Monk bulk scan is a way to conclude licenses based on text snippets contained in a file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Namespaces">Namespaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/New-at-FOSSology,-You-Could-...">New-at-FOSSology,-You-Could-...</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Nomos">Nomos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Notepad-Building-Packages">Notepad-Building-Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Notes-on-SQL-Database-Operations">Notes-on-SQL-Database-Operations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Obligations-management">Obligations-management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PHP-Debugging-with-Apache">PHP-Debugging-with-Apache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PHP-Object-Baseclass">New information since PHP7.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Package-Agent">Package-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Permissions-and-Groups">Permissions-and-Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PhpUnit-Test-Coverage">PhpUnit-Test-Coverage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Programming-for-the-Job-Queue">Programming-for-the-Job-Queue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/REST-API">Note</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Notes">Release-Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Process">Release Process (aka the Release Checklist)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Testing">Release Testing and Criteria</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Releases">Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Reporting-bugs">Reporting-bugs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Repository">Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/S3-Backup">S3-Backup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Scheduler-Pre-2.0">Scheduler-Pre-2.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Setup-a-Chroot-environment">Setup-a-Chroot-environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Spasht-Agent">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Tagging">Tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Twig">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/UI-Architecture-Overview">UI-Architecture-Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Writing-Agents-&amp;-Plugins">Writing-Agents-&amp;-Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Writing-a-FOSSology-agent-(new-work-in-progress)">Writing-a-FOSSology-agent-(new-work-in-progress)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/fossology-gold-the-master-database-schema">fossology-gold-the-master-database-schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/i18N-Internationalization">i18N Internationalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/vagrant">vagrant</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial - Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-page">Create a Page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-document">Create a Document</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-blog-post">Create a Blog Post</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/markdown-features">Markdown Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/deploy-your-site">Deploy your site</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/congratulations">Congratulations!</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial - Extras</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-extras/manage-docs-versions">Manage Docs Versions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-extras/translate-your-site">Translate your site</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Job-Scheduler</h1></header><div class="markdown"><p>The FOSSology job scheduler is a daemon that periodically checks the job queue and spawns agents to run scans.  Multiple jobs can be run simultaneously as defined in fossology.conf.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="terminology"></a>Terminology<a class="hash-link" href="#terminology" title="Direct link to heading">#</a></h2><ul><li><strong>job stream</strong>: A list of all the job steps queued at the same time for an upload.  For example, all the job steps (programs) necessary to get a particular upload from unpack through all of its scans.</li><li><strong>job</strong>: a specific step in the process of working on an upload. Each job would be associated with a different type of agent. For example if a person uploaded a .tar file and wanted license and copyright analysis run on the file, there would be a job for the unpack step, a job for the license step and a job for the copyright step.</li><li><strong>agent</strong>: The actual process that the scheduler will spawn and be communicating with. An instance of the copyright scanner would be an example of an agent. A job is a scheduler construct used to run an agent process.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="scheduler-architecture"></a>Scheduler Architecture<a class="hash-link" href="#scheduler-architecture" title="Direct link to heading">#</a></h2><p>We use a classic client server communication style for both the agent communication and the UI communication. Every time a new communication channel is needed (whether with the agents or the user interface), the scheduler will create a new thread to manage the communications with that channel. This makes the communication logic much simpler.</p><p>Every time a new agent is created, a new thread is spawned to manage its communications. If the communication thread receives anything that would involve changing a data structure internal to the scheduler, it passes the information off to the main thread instead of changing it personally. This is done to simplify the need for locking large data structures and to hopefully eliminate the possibility of a race condition within the scheduler. The communication threads send information to the main thread using events. The communication thread will package the function and arguments and pass it to a concurrent queue that the main thread is waiting on.</p><p>When a new job stream is found in the job queue, the scheduler will create only the jobs for that job stream that have all the preconditions fulfilled. Once created the jobs will have agents allocated to them. Allocated agents belong to the job and will remain in the scheduler&#x27;s data structures until the job is removed from the system. Even if agents fail, the information about what the agent was processing is needed since it will be given to a different agent in an attempt to resolve the failure. Therefore, within the system, a job stream owns jobs, and these jobs own agents. Jobs are responsible for cleaning up any agents allocated to them.</p><p>Within a job, when an agent is ready for data, it will inform the main thread that it is waiting. The main thread will then take a chunk of data from the job that the agent belongs to and allocate it to the agent. The main thread will then inform the communication thread that there is pending data. The communication thread will then be responsible for sending the data to the corresponding process. It is important to note that the communication threads are using blocking IO on the pipe from the corresponding process. The only way for the main thread to wake a communication thread is to write to this pipe. As a result, any string that starts with &quot;@&quot; is reserved as a communication from the scheduler instead of the corresponding process. Writing anything that starts with &quot;@&quot; to stdout within an agent will result in undefined behavior. </p><p>Here are some other properties of the scheduler:</p><ul><li>Scheduler can take advantage of multiple processors on whatever machine it is running on. </li><li>Simplified code for communicating with agents since all IO would be blocking instead of non-blocking. </li><li>Master thread can not get swamped with communications between the agents and can concentrate on managing new jobs. </li><li>Uses GLib</li><li>Job queue is implemented in db tables: <ul><li>job  - <em>the job stream</em></li><li>jobqueue  - <em>individual jobs</em></li><li>jobdepends - <em>job dependencies (for example, you can&#x27;t run buckets until the license scan is done)</em></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuration-files"></a>Configuration files<a class="hash-link" href="#configuration-files" title="Direct link to heading">#</a></h2><p>The scheduler uses two configuration files, fossology.conf to define critical system parameters and agent specific config files.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="fossologyconf"></a>fossology.conf<a class="hash-link" href="#fossologyconf" title="Direct link to heading">#</a></h3><p>This is the master configuration file for the FOSSology installation.  It is divided into sections in square brackets, like <strong>[FOSSOLOGY]</strong> followed by key-value pairs.  Comments start with a semicolon.  By default the fossology.conf file is installed in /etc/fossology for packages and /usr/local/etc/fossology for source installs.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">**Sample fossology.conf**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[FOSSOLOGY]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; These define the scheduler port and host</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">port = 24693</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address = localhost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Repository file hierarchy depth</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; For example, a depth of 3 would result in a file being saved in a directory like files/0f/23/e2/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Each directory level is the first, second and third characters of the filename being saved.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">depth = 3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Location of the file repository</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; This is the location of all the uploaded files, job log files and temporary storage used for unpacking uploads.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">path = /srv/fossology/repository</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; proxy settings that will be used by fossology agents</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; NOTE: there must me NO spaces between items because these strings are used as is with wget.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; examples:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ftp_proxy = http://web-proxy.mydomain.com:3128 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">no_proxy = &#x27;localhost,.mydomain.com&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">http_proxy  = http://web-proxy.mydomain.com:8088</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">https_proxy = http://web-proxy.mydomain.com:8088</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[HOSTS]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Define hosts available to analyze files. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Format: {simple name} = {qualified domain name} {configuration directory} {Max simultaneous agents to run} </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; **AGENT_DIR** can be used instead of the configuration directory path.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Here is an example for a system that uses 6 other servers as slaves to run scans</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">localhost = localhost AGENT_DIR 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">binky       = foagent2.mydomain.com /etc/fossology 5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">crookshanks = foagent3.mydomain.com /etc/fossology 5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">firenze     = foagent4.mydomain.com /etc/fossology 5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hedwig      = foagent5.mydomain.com /etc/fossology 5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hermes      = foagent6.mydomain.com /etc/fossology 5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bane        = foagent1.mydomain.com /etc/fossology 5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; A much simpler example would be if you are only running FOSSology on a single server.  In that case</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; you may only need something like:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; localhost = localhost AGENT_DIR 10</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[REPOSITORY]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; This defines how the repository is distributed among your servers.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Format: {simple name} = {repository area} {Start} {End}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; The Start/End are the directory names (see Repository file hierarchy depth above)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; The repository area would be &quot;files&quot; or &quot;gold&quot;, but &#x27;*&#x27; is shorthand for all areas.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bane[] = * 00 2a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">crookshanks[] = * 2b 54</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">binky[] = * 55 7f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">firenze[] = * 80 aa</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hermes[] = * ab d4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hedwig[] = * d5 ff</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; A simple case for a single server running FOSSology would have all the repository files on localhost:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; localhost[] = * 00 ff</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[DIRECTORIES]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Project Name and Group </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Do not change after installation since PROJECT and PROJECTGROUP is used in installation </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; directory names and ownership.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Use PREFIX to install multiple copies of FOSSology.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PROJECT=fossology</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PROJECTGROUP=fossy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; all the directories in this section were chosen to be LSB compliant.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; see http://www.linuxfoundation.org/collaborate/workgroups/lsb </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; base of the program data tree</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PREFIX=/usr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; executable programs that users run</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BINDIR=$PREFIX/bin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; executable programs that sysadmins run</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SBINDIR=$PREFIX/sbin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; object code libraries</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LIBDIR=$PREFIX/lib</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; header files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INCLUDEDIR=$PREFIX/include</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; executables/libraries that only our project uses</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LIBEXECDIR=$PREFIX/lib/$PROJECT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; non-arch-specific data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DATAROOTDIR=$PREFIX/share</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; non-arch-dependent program data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MODDIR=$DATAROOTDIR/$PROJECT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; local state</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LOCALSTATEDIR=/var/local</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; project local state</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PROJECTSTATEDIR=$LOCALSTATEDIR/lib/$PROJECT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Scheduler log directory</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LOGDIR=/var/log/$PROJECT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[EMAILNOTIFY]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; This section allows the scheduler to send email notifications to users when their</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; job stream has finished. Both the header and footer are text files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; in the fossology system configuration directory (the same</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; directory that contains this file). The subject is simply the subject that</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; will be used in the email notification.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; The following variables may be used in the header and footer:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  $UPLOADNAME  - name of the uploaded file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  $BROWSELINK  - FOSSology Browse link to the uploaded file</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  $SCHEDULERLOG  - link to the showjobs details page for the upload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  $JOBQUEUELINK - link to the showjobs page for the upload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  $UPLOADFOLDERNAME  - folder containing the upload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  $JOBRESULT  -  The completed job stream status, usually &quot;COMPLETE&quot; or &quot;FAILED&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">header  = sampleheader.txt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">footer  = samplefooter.txt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">subject = FOSSology scan complete</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">client  = /usr/bin/mailx</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="agentconfs"></a>Agent.conf&#x27;s<a class="hash-link" href="#agentconfs" title="Direct link to heading">#</a></h3><p>Each agent has its own configuration file that tells the scheduler how to run the agent.  Agent
configuration files are in their module directory.  For example, src/nomos/nomos.conf in the source tree, or /etc/fossology/mods-enabled/nomos/nomos.conf in the installation tree.</p><p>Each configuration file must provide the following:</p><ul><li>command: the command line that will be used when starting the agent</li><li>max: the maximum number of instances of this agent that may be run concurrently, -1 for no max.</li><li>special: list of anything special about the agent.  The special flags are:</li><li><strong>EXCLUSIVE</strong> -- the agent will not run concurrently with any other agents</li><li><strong>NOEMAIL</strong> -- when the agent finishes running, it will not generate an email notification</li><li><strong>LOCAL</strong> -- only run this agent on the same computer as the scheduler</li><li><strong>NOKILL</strong>  -- do not kill the agent even if it appears to be nonresponsive.  Without this flag agents that have not pinged the scheduler in 10 minutes are killed.</li></ul><p>For example, ununpack.conf:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; Section.  Must be &#x27;default&#x27; (all configuration values are in sections that define their namespace)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[default]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; command: The command that the scheduler will use when creating an instance of this agent. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; This will be parsed like a normal Unix command line.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; The variables on the command line are parsed by the agent, not the scheduler</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">command = ununpack -d %R/%H/ununpack/%U -qRCQx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; max: The maximum number of this agent that is allowed to exist at any one time. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; This is set to -1 if there is no limit on the number of instances of the agent.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">max = -1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; special: Scheduler directive for special agent attributes. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">special[] = </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; If we wanted to set a couple of special flags, we would add a line for each flag.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; For example:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  special[] = NOKILL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">;  special[] = EXCLUSIVE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="communicating-with-a-running-scheduler"></a>Communicating with a running scheduler<a class="hash-link" href="#communicating-with-a-running-scheduler" title="Direct link to heading">#</a></h2><p>You can send commands to a running scheduler.  The scheduler listens on the port specified in fossology.conf.  Anytime a new connection is made on the port, the scheduler will open a set of sockets for the connection and wait for credentials.  After a command is sent, the scheduler will respond with &quot;received&quot;.  You can send the following commands:</p><ul><li><strong>close</strong> This will close the connection to the scheduler. </li><li><strong>stop</strong> The scheduler will gracefully shutdown after the currently running jobs have finished. </li><li><strong>pause &lt;job_id&gt;</strong> The job id (job_pk) will pause. All agents associated with the job will be put to sleep.</li><li><strong>agents</strong> The scheduler will respond with a space separated list of agents configured to run.</li><li><strong>reload</strong> The scheduler will reload the configuration information for the agents and hosts. </li><li><strong>status</strong> The scheduler will respond on the same socket with all of the status information.</li><li><strong>status &lt;job_id&gt;</strong> the scheduler will respond with a detailed status for the specific job </li><li><strong>restart &lt;job_id&gt;</strong> the scheduler will restart the job specified. Used exclusively on jobs that have been paused, if the job isn&#x27;t paused this will error. </li><li><strong><code>verbose &lt;level&gt;</code></strong> the verbosity level for the scheduler will be changed to match level. </li><li><strong><code>verbose &lt;job_id&gt; &lt;level&gt;</code></strong> the verbosity level for all of the agents owned by the specified job will be changed to level. </li><li><strong>priority</strong> changes the priority of a particular job within the scheduler, this does not change the priority of the related job in the db. </li><li><strong>database</strong> this causes the scheduler to check the database job queue for new jobs.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="log-files"></a>Log files<a class="hash-link" href="#log-files" title="Direct link to heading">#</a></h2><p>There are two types of log files.  The scheduler log which is written to LOGDIR (see fossology.conf).  The agent logs are anything written to stdout or stderr by a running agent and are saved in the repository &#x27;logs&#x27; directory (&#x27;path&#x27; in fossology.conf sets the repository path).</p><p><a href="http://www.fossology.org/projects/fossology/wiki/How_to_Interpret_the_log_files" target="_blank" rel="noopener noreferrer">How to read log files</a></p><p>There are 3 different logging functions to standardize how messages are written by the scheduler.</p><ul><li><p><strong>lprintf</strong>: acts much like a standard printf but prints formatted data to the log file. The formatting for this data is extremely strict. All lines will be prepended by a time stamp.</p></li><li><p><strong>vlprintf</strong>: identical to lprintf() but takes a va_list. This provided exactly the same functionality as vprintf() does for printf().</p></li><li><p><strong>clprintf</strong>: identical to lprintf() but should be used when printing to the log file from any thread that isn&#x27;t the main thread. This essentially creates an event that will call lprintf to prevent messages from getting intermixed.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setting-scheduler-verbosity"></a>Setting Scheduler verbosity<a class="hash-link" href="#setting-scheduler-verbosity" title="Direct link to heading">#</a></h3><p>The new scheduler uses a very powerful system for the verbosity levels, it combines the use of a bit mask with standard verbosity levels. This makes it possible to get powerful debugging info while making non-debugging info easy to understand. Any verbose level below 8 will be interpreted strictly as a verbosity level. So 2 is more verbose than 1 and three is more verbose than 2, etc. Anything 8 and above will be interpreted as a bit mask for debugging the scheduler. For the bit mask, each bit will correspond to turning on verbosity for a particular source file. The highest order bit is used for things that should be file independent. Currently only the SPECIAL command from the agents is under this category as it can create a large amount of useless information in the log files.</p><p>The currently defined levels:</p><ul><li><strong>0</strong>: Scheduler will only print errors. All other logging is disabled</li><li><strong>1</strong>: Scheduler will print errors and notifications. Notifications include the scheduler startup and shutdown messages</li><li><strong>2</strong>: Scheduler will print errors, notifications, and warnings.</li></ul><p>The verbosity levels can be set in the fossology startup file (e.g. /etc/init.d/fossology) with SCHEDULEROPT. By default the value is set to</p><p>SCHEDULEROPT=&quot;--daemon --reset --verbose=1&quot;</p><p>The currently define bit mask:</p><table><tr><td>mask</td><td>relevant file</td><td>integer value for fo_cli</td></tr><tr><td>00000001000</td><td>job.c</td><td>8</td></tr><tr><td>00000010000</td><td>agent.c</td><td>16</td></tr><tr><td>00000100000</td><td>scheduler.c</td><td>32</td></tr><tr><td>00001000000</td><td>event.c</td><td>64</td></tr><tr><td>00010000000</td><td>interface.c</td><td>128</td></tr><tr><td>00100000000</td><td>database.c</td><td>256</td></tr><tr><td>01000000000</td><td>host.c</td><td>512</td></tr><tr><td>10000000000</td><td>all files</td><td>1024</td></tr></table><p>The debugging levels can be set using the scheduler command line tool, fo_cli.</p><p><code>.../fo_cli  -v &lt;integer&gt;</code></p><p>NOTE: this can result in very large values for the verbosity level when turning on debugging output. For example, a verbose level of 1016 is the smallest value that will turn on all verbosity levels.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="agent-interface"></a>Agent interface<a class="hash-link" href="#agent-interface" title="Direct link to heading">#</a></h2><p>Agents should use the LOG_* functions in libfossscheduler.h (LOG_FATAL, LOG_ERROR, LOG_VERBOSE, etc.)</p><p>Agents should use the scheduler interface defined in src/lib/c/libfossscheduler.c  There are 5 functions that handle communications between the scheduler and the agents.</p><ul><li><p><strong>fo_scheduler_heart</strong>: agents should call this to update the number of items processed by the agents.</p></li><li><p><strong>fo_scheduler_connect</strong>: an agent should call this before calling any other api functions or parsing their command line arguments.  This will insure that any agent output will be logged (like errors).</p></li><li><p><strong>fo_scheduler_next</strong>: an agent can call this every time it needs a new piece of information from the scheduler. When this function returns NULL, the agent should clean up any allocated memory and call the next method.</p></li><li><p><strong>fo_scheduler_disconnect</strong>: This closes the connection to the scheduler and provides the scheduler with the return code of the agent. Anything printed by the agent after this will not get placed in its log file or interpreted by the scheduler.</p></li><li><p><strong>fo_scheduler_set_special</strong>: This allows the agent to set a special attribute about itself. Currently the only option is SPECIAL_NOKILL which causes the scheduler to not kill the agent event if it doesn&#x27;t seem to be processing information.</p></li></ul><p>There is a global verbosity flage <strong>agent_verbose</strong> that all agents should use. This is implemented so that the scheduler is able to change the agent&#x27;s verbose level.</p><p>example minimal agent:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly C"><div tabindex="0" class="prism-code language-C codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* include the header for the fossology api */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;libfossology.h&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main(int argc, char** argv)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* before parsing argv and argc make sure   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* to initialize the scheduler connection   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  fo_scheduler_connect(&amp;argc, argv);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* we can set the agent to not be killed    */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* even if it appears to be dead            */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  fo_scheduler_set_special(SPECIAL_NOKILL, TRUE);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* enter the main agent loop, continue to   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* loop until receiving NULL                */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  while(fo_scheduler_next() != NULL)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* current simply provides access to last */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* message from the scheduler             */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    printf(&quot;%s\n&quot;, fo_scheduler_current());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* call the heart beat with the number of */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* items processed since last call        */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fo_scheduler_heart(1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* after cleaning up agent, disconnect from */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* the scheduler. 0 indicates the agent ran */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /* correctly. Anything else is a failure    */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  fo_scheduler_disconnect(0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Aman-Codes/fossology-blogs/edit/master/docs/docs/Job-Scheduler.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fossology-blogs/docs/docs/Install-from-Source"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Install-from-Source</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fossology-blogs/docs/docs/Known-Security-Risks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Known-Security-Risks Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#terminology" class="table-of-contents__link">Terminology</a></li><li><a href="#scheduler-architecture" class="table-of-contents__link">Scheduler Architecture</a></li><li><a href="#configuration-files" class="table-of-contents__link">Configuration files</a><ul><li><a href="#fossologyconf" class="table-of-contents__link">fossology.conf</a></li><li><a href="#agentconfs" class="table-of-contents__link">Agent.conf&#39;s</a></li></ul></li><li><a href="#communicating-with-a-running-scheduler" class="table-of-contents__link">Communicating with a running scheduler</a></li><li><a href="#log-files" class="table-of-contents__link">Log files</a><ul><li><a href="#setting-scheduler-verbosity" class="table-of-contents__link">Setting Scheduler verbosity</a></li></ul></li><li><a href="#agent-interface" class="table-of-contents__link">Agent interface</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fossology-blogs/docs/welcome">Documentation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/fossology/shared_invite/enQtNzI0OTEzMTk0MjYzLTYyZWQxNDc0N2JiZGU2YmI3YmI1NjE4NDVjOGYxMTVjNGY3Y2MzZmM1OGZmMWI5NTRjMzJlNjExZGU2N2I5NGY" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZGPJnQZVnEPQWxOuNamLpw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fossology-blogs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 FOSSology. All Rights Reserved.</div></div></div></footer></div>
<script src="/fossology-blogs/assets/js/runtime~main.79e86940.js"></script>
<script src="/fossology-blogs/assets/js/main.8bcf8826.js"></script>
</body>
</html>