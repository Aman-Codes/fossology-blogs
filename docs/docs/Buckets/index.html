<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/fossology-blogs/blog/rss.xml" title="FOSSology Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fossology-blogs/blog/atom.xml" title="FOSSology Blog Atom Feed"><title data-react-helmet="true">Buckets | FOSSology</title><meta data-react-helmet="true" property="og:url" content="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Buckets"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Buckets | FOSSology"><meta data-react-helmet="true" name="description" content="This page is a near duplicate of CreatingandUsingBucketpools. This should be cleaned up."><meta data-react-helmet="true" property="og:description" content="This page is a near duplicate of CreatingandUsingBucketpools. This should be cleaned up."><link data-react-helmet="true" rel="shortcut icon" href="/fossology-blogs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Buckets"><link data-react-helmet="true" rel="alternate" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Buckets" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://aman-codes.github.io/blogs/fossology-blogs/docs/docs/Buckets" hreflang="x-default"><link rel="stylesheet" href="/fossology-blogs/assets/css/styles.3dee929f.css">
<link rel="preload" href="/fossology-blogs/assets/js/runtime~main.79e86940.js" as="script">
<link rel="preload" href="/fossology-blogs/assets/js/main.8bcf8826.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fossology-blogs/"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">FOSSology</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/fossology-blogs/docs/welcome">Documentation</a><a class="navbar__item navbar__link" href="/fossology-blogs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/fossology-blogs/"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fossology-blogs/img/logo.png" alt="FOSSology Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">FOSSology</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/fossology-blogs/docs/welcome">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/fossology-blogs/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fossology-blogs/docs/welcome">Welcome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GSoC 2021</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/GSoC2021">GSoC2021</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Adding React library to new UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/pre-GSoC">Pre-GSoCÂ journey</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/mid-Evaluations">Mid Evaluations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/adding-react-library-to-new-UI/end-Evaluations">End Evaluations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Copyright False Positive Detection Using ML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2021/copyright-false-positive-detection-using-ML/congratulations">Congratulations!</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GSoC 2020</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/GSoC2020/GSoC2020">GSoC2020</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Access-Control">Access-Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Ant-build-file-example-for-test-execution">Ant-build-file-example-for-test-execution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Autoloading">Autoloading</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/fossology-blogs/docs/docs/Buckets">Buckets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Building-Fossology-using-pbuilder">Building Fossology using [[project builder| http://www.project-builder.org/]]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Coding-Style">Coding-Style</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Composer">Composer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Configuration-and-Tuning">Configuration-and-Tuning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Copyright">Copyright</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Database">Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/DbManager-c">DbManager-c</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/DbManager">DbManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Debugging-tips">Core files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Definition-of-Done">Definition-of-Done</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Dependency-injection">Dependency-injection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Documentation-Generation">Documentation-Generation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Download-Source-via-Git">Download-Source-via-Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/ECC">ECC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Email-notification-configuration">Email notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/External-authentication-configuration">External-authentication-configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.0-Release-Announcement">FOSSology-3.0-Release-Announcement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.1-Release-Announcement-(Working-Version)">FOSSology-3.1-Release-Announcement-(Working-Version)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.1-Release-Candidate-Announcement">FOSSology-3.1-Release-Candidate-Announcement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-3.2-Release-Announcement-(Working-Version)">FOSSology-3.2-Release-Announcement-(Working-Version)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Agents">FOSSology-Agents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Debian-Package-Process">Building FOSSology Debian packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Docker-testing-on-Ubuntu">FOSSology-Docker-testing-on-Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-REST-API">Basic guide to FOSSology REST API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-Test-Automation">FOSSology-Test-Automation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FOSSology-scanners-in-CI">License/Copyright scanning automation using FOSSology in CI tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/File-Comparing-and-Diff-type-plugins">File-Comparing-and-Diff-type-plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/File-Locations">File-Locations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/FossDash:-Deploy-and-Configure">Configuration guide for FossDash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Fossology-E2E-Tests">Fossology-E2E-Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/General-Administration-Notes">General-Administration-Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Git-basic-commands">Git-basic-commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Global-System-Configuration-Variables">Global-System-Configuration-Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2019">Google-Summer-of-Code-Proposals-2019</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2020">Google-Summer-of-Code-Proposals-2020</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Google-Summer-of-Code-Proposals-2021">Google-Summer-of-Code-Proposals-2021</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Groups-and-Access-Rights-configuration">Groups-and-Access-Rights-configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/HACKING">HACKING</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Home">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-To-Create-An-Agent">How-To-Create-An-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-to-create-a-new-release">How to Create a New Release</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/How-to-query-an-agent-for-version">How-to-query-an-agent-for-version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Improving-IO-performance">I/O scheduling in Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Install-Fossology-on-a-Jenkins-Server">Install-Fossology-on-a-Jenkins-Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Install-from-Source">Install-from-Source</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Job-Scheduler">Job-Scheduler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Known-Security-Risks">Known-Security-Risks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/License-Browser-filter">License-Browser-filter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/License-Ref-Table">License-Ref-Table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Maintenance-Agent">Maintenance-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Migration-to-UTF-8-DB">Introduction to problem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Mimetype-Agent">Mimetype-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Monk">Monk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/MonkBulk">The Monk bulk scan is a way to conclude licenses based on text snippets contained in a file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Namespaces">Namespaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/New-at-FOSSology,-You-Could-...">New-at-FOSSology,-You-Could-...</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Nomos">Nomos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Notepad-Building-Packages">Notepad-Building-Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Notes-on-SQL-Database-Operations">Notes-on-SQL-Database-Operations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Obligations-management">Obligations-management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PHP-Debugging-with-Apache">PHP-Debugging-with-Apache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PHP-Object-Baseclass">New information since PHP7.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Package-Agent">Package-Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Permissions-and-Groups">Permissions-and-Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/PhpUnit-Test-Coverage">PhpUnit-Test-Coverage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Programming-for-the-Job-Queue">Programming-for-the-Job-Queue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/REST-API">Note</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Notes">Release-Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Process">Release Process (aka the Release Checklist)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Release-Testing">Release Testing and Criteria</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Releases">Releases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Reporting-bugs">Reporting-bugs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Repository">Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/S3-Backup">S3-Backup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Scheduler-Pre-2.0">Scheduler-Pre-2.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Setup-a-Chroot-environment">Setup-a-Chroot-environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Spasht-Agent">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Tagging">Tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Twig">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/UI-Architecture-Overview">UI-Architecture-Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Writing-Agents-&amp;-Plugins">Writing-Agents-&amp;-Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/Writing-a-FOSSology-agent-(new-work-in-progress)">Writing-a-FOSSology-agent-(new-work-in-progress)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/fossology-gold-the-master-database-schema">fossology-gold-the-master-database-schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/i18N-Internationalization">i18N Internationalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fossology-blogs/docs/docs/vagrant">vagrant</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial - Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-page">Create a Page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-document">Create a Document</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/create-a-blog-post">Create a Blog Post</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/markdown-features">Markdown Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/deploy-your-site">Deploy your site</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-basics/congratulations">Congratulations!</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial - Extras</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-extras/manage-docs-versions">Manage Docs Versions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/fossology-blogs/docs/tutorial-extras/translate-your-site">Translate your site</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Buckets</h1></header><div class="markdown"><p>This page is a near duplicate of <a href="http://www.fossology.org/projects/fossology/wiki/Creating_and_Using_Bucketpools" target="_blank" rel="noopener noreferrer">Creating_and_Using_Bucketpools</a>. This should be cleaned up.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-bucket-pools"></a>Creating Bucket Pools<a class="hash-link" href="#creating-bucket-pools" title="Direct link to heading">#</a></h1><p>Buckets are methods to classify, or group, data for reports. Introduced in v1.2, the original idea was to allow users to classify licenses by their own value system. For example, buckets can report files by &quot;Good Licenses&quot; and &quot;Bad Licenses&quot;, &quot;Academic Licenses&quot;, &quot;Copyleft Licenses&quot;, &quot;Packages that had licenses I liked before but now contain licenses that I don&#x27;t like&quot;, ...</p><p>Although license classification was the original requirement, buckets are not limited to classifying licenses. For example, if one wants to report files by copyright holder, or by file type, or files without my copyright, or by any other data you have access to, you can.</p><p>As introduced in v1.2, there is no FOSSology user interface to create bucket pools, bucket definitions, scripts, or anything else you need. The purpose of this page is to explain how to create these files and database records.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bucket-pools"></a>Bucket Pools<a class="hash-link" href="#bucket-pools" title="Direct link to heading">#</a></h2><p>A bucket pool is a set of bucket definitions. The first step in creating a bucket pool is to add a bucketpool table record:</p><p><strong>Table: bucketpool</strong></p><table><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>bucketpool_pk</td><td>integer</td><td>Primary key</td></tr><tr><td>bucketpool_name</td><td>text</td><td>Name of bucket pool</td></tr><tr><td>version</td><td>integer</td><td>1,2,3, ...</td></tr><tr><td>active</td><td>char(1)</td><td>&#x27;Y&#x27; if bucketpool can be used, &#x27;N&#x27; if the results of this bucket pool are to be ignored. This is a quick way to hide results and make sure no one uses this pool</td></tr></tbody></table><p>It is important to add a new bucketpool record with an incremented version when you change any bucket definition for this pool. Internally, only the bucketpool_pk is used to identify a bucket, but the version is displayed to help users know which version is the latest.</p><p>All bucket results are tagged with the bucket agent_pk and bucketpool_pk. This allows multiple sets of bucket data for a given upload. Because of this, one could write a user interface that displays the difference between different different bucketpools, or different versions of the same pool. The immediate benefit to having a new set of results with each change in bucket agent or bucket pool is that bucket url&#x27;s are persistent. If you give someone a url with results from bucketpool 1, then you create a new version (bucketpool 2) then the old url will continue to give the same results as before. By default, the latest bucket results are displayed.</p><p>The bucket_ars table is an audit trail recording each time the bucket agent is run. This audit trail is also used by the bucket agent to determine if it should run. That is, if the bucket agent sees that it already successfully processed the same repository data with the same bucketpool_pk, bucket agent_pk, and nomos license scanner agent_pk, then it will refuse to run it again and a message to that effect will be written to the fossology log file.</p><p>bucket_ars is defined as an inherited table.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly SQL"><div tabindex="0" class="prism-code language-SQL codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE TABLE bucket_ars (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    nomosagent_fk integer,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bucketpool_fk integer</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INHERITS (ars_master);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bucket-definitions"></a>Bucket Definitions<a class="hash-link" href="#bucket-definitions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="table-bucket_def"></a>Table: bucket_def<a class="hash-link" href="#table-bucket_def" title="Direct link to heading">#</a></h3><p>The bucket_def table defines the rules (buckets) for a given bucketpool.</p><table><thead><tr><th>column</th><th>type</th><th>meaning</th></tr></thead><tbody><tr><td>bucket_pk</td><td>integer</td><td>Primary key</td></tr><tr><td>bucket_name</td><td>text</td><td>Name of bucket</td></tr><tr><td>bucket_color</td><td>text</td><td>Buckets are color coded when displayed in a report. This allows you to create visual cues to highlight results. For example, you could make some buckets red to draw your attention to them in the report. Values for this field are web colors like &quot;red&quot;, &quot;green&quot;, &quot;lavender&quot;, or numeric values like &#x27;#fe0922&#x27;.</td></tr><tr><td>bucket_reportorder</td><td>int</td><td>Order bucket gets reported if report has no other intrinsic order.</td></tr><tr><td>bucket_evalorder</td><td>integer</td><td>Order bucket is evaluated in pool. In other words, a bucket with evalorder 10 will get evaluated before a bucket with evalorder 20. The evaluation order is critical when you have buckets with stopon=Y.</td></tr><tr><td>bucketpool_fk</td><td>int</td><td>Foreign key to bucketpool_pk</td></tr><tr><td>bucket_type</td><td>integer</td><td>1=MATCH_EVERY, 2=MATCH_ONLY, 3=REGEX, 4=EXEC, 5=REGEX-FILE, 99=Not in any other bucket.</td></tr><tr><td>bucket_regex</td><td>text</td><td>Regular expression (posix extended) for bucket_type=3</td></tr><tr><td>bucket_filename</td><td>text</td><td>data file name for types 1,2,4,5. Data files are located in <code>$PROJECTSTATEDIR/bucketpools/{bucketpool_pk}</code></td></tr><tr><td>stopon</td><td>char(1)</td><td>If this rule is a match and stopon=&#x27;Y&#x27;, then don&#x27;t continue evaluating other bucket rules. If stopon=&#x27;N&#x27;, then continue checking rules whether this one matched or not.</td></tr><tr><td>applies_to</td><td>char(1)</td><td>&#x27;f&#x27; if rule applies to every file. &#x27;p&#x27; if rule only applies to (rpm or debian) packages.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="column-bucket_type"></a>Column: bucket_type<a class="hash-link" href="#column-bucket_type" title="Direct link to heading">#</a></h3><p><strong>Match Every</strong></p><p>A type 1 (MATCH_EVERY) file contains pipe separated lists of licenses (one list per line). A file that contains EVERY license on a line will be in this bucket. The file may contain additional licenses, but if the combination on a MATCH_EVERY file line is found, then the file is in this bucket.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">APSL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GPL | MPL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GPL | OSL</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>Match Only</strong></p><p>A type 2 (MATCH_ONLY) file contains a list of licenses (one per line). To be in this bucket, a file must ONLY contain licenses found in this file.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">GPL</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GPL_v1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GPL_v1+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GPL_v2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GPL_v2+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">etc</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>REGEX</strong></p><p>Type 3, (REGEX) means that a posix type regular expression is in the bucket_regex field.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(GPL_?v3|Affero_?v3)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>EXEC</strong></p><p>Type 4, (EXEC) tells the bucket agent to execute the program in bucket_filename. Typically these are scripts (see examples below). This is the most complex, and most flexible bucket type.</p><p><strong>REGEX File</strong></p><p>The REGEX_FILE type is in the format: {kwd} {regex} {operator} {kwd} {regex}</p><p>kwd is &quot;license&quot; or &quot;filename&quot; </p><p>operator is &quot;and&quot;, &quot;or&quot;, &quot;not&quot; </p><p>The operator and following kwd, regex are optional</p><p>For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> license &quot;[^,]*(GPL_?v3|Affero_v3)[^,]*&quot; and filename binutils</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  filename realplayer.*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  filename ksh and license ATT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  license .*-eula</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>99 *</p></li><li><p>This is a special bucket type for files that didn&#x27;t go into any other bucket.</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="multiple-bucket-pools"></a>Multiple Bucket Pools<a class="hash-link" href="#multiple-bucket-pools" title="Direct link to heading">#</a></h1><p>You can have as many bucket pools as you like. Users can set their default bucket in their account settings. As of this writing there isn&#x27;t a way for users to pick the bucket they want to use (it uses their default bucket). That might or might not change before the 1.2 release.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rerunning-buckets"></a>Rerunning Buckets<a class="hash-link" href="#rerunning-buckets" title="Direct link to heading">#</a></h1><p>When you create a new bucket pool, you might need multiple attempts to get the definitions right. Or you might be creating a new bucket pool that is just an update of a previous one. In either case you will need to rerun the bucket agent on the same upload. In v 1.2, you need to create a new bucket pool (bucketpool and bucket_def records), then go to Admin &gt; Users &gt; Account settings and pick the new default bucket pool. Then in Show Jobs, delete the bucket job. Finally, in Jobs &gt; Agents, queue up a new bucket agent job.</p><p>If you want to rerun ALL the bucket jobs you have done and throw away all the bucket results, then do this in psql:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly SQL"><div tabindex="0" class="prism-code language-SQL codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fossology=# delete from bucket_container; delete from bucket_file;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> delete from bucket_ars;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">update jobqueue set jq_starttime=null, jq_endtime=null, jq_endtext=null, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       jq_end_bits=0, jq_elapsedtime=0, jq_processedtime=0, jq_itemsprocessed=0 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       where jq_type=&#x27;buckets&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">delete from report_cache;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deleting-bucket-results"></a><strong>Deleting Bucket Results</strong><a class="hash-link" href="#deleting-bucket-results" title="Direct link to heading">#</a></h1><p>When you are working on bucket definitions, sometimes it&#x27;s nice to run a bucket scan and then delete the data you just created, change a definition, rerun, repeat, all without creating a new bucket pool or changing your default bucket pool.</p><p>To erase the data you just created, there are three tables that need to be updated: bucket_ars, bucket_container, and bucket_file. The first two are easy, the last is not. In the following, lets assume you are working with upload_pk = 456.</p><p>Since the bucket_ars table recorded the last bucket scan, delete that record. It&#x27;s only a single record and it&#x27;s easy to identify. If this upload is only used for testing, you can just:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly SQL"><div tabindex="0" class="prism-code language-SQL codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">delete from bucket_ars where upload_fk=456;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The bucket_container table says what buckets apply to containers (directories, tars, ...). Each record is tagged with an uploadtree_pk, so to delete all the bucket_container recs:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly SQL"><div tabindex="0" class="prism-code language-SQL codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">delete from bucket_container where uploadtree_fk </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">in (select uploadtree_pk from uploadtree where upload_fk=456);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Removing records from the bucket_file table is not so easy because these records are tagged to a physical file (pfile_pk). Multiple uploads may refer to the same physical file so you can&#x27;t simply delete bucket_file records that refer to a given pfile because that record records the bucket for all uploads that refer to that pfile. This is a good thing because it means once a file has been scanned, it doesn&#x27;t have to be scanned again just because it&#x27;s uploaded again. But it means that before you delete a bucket_file record you have to make sure that the pfile isn&#x27;t used by another upload.</p><p>There is a corner case where you might want to delete ALL bucket records. For example, you might be working on a test fossology installation to develop your buckets. In this case:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly SQL"><div tabindex="0" class="prism-code language-SQL codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">delete from bucket_ars;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">delete from bucket_file;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">delete from bucket_container;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bucket-scripts"></a><strong>Bucket Scripts</strong><a class="hash-link" href="#bucket-scripts" title="Direct link to heading">#</a></h1><p>The EXEC type bucket will execute any program and pass the following environment variables to it:</p><table><tr><td>Variable</td><td>Description</td></tr><tr><td>FILENAME</td><td>Name of file being scanned</td></tr><tr><td>LICENSES</td><td>Pipe separated list of licenses for this file</td></tr><tr><td>PKGVERS</td><td>Package version from the package header</td></tr><tr><td>VENDOR</td><td>Vendor from the package header</td></tr><tr><td>PKGNAME</td><td>simple package name (e.g. &quot;cup&quot;, &quot;mozilla-mail&quot;, ...) of file being checked. Only applies to packages.</td></tr><tr><td>SRCPKGNAME</td><td>Source Package Name</td></tr><tr><td>UPLOADTREE_PK</td><td>uploadtree_pk</td></tr><tr><td>PFILE_PK</td><td>pfile_pk</td></tr><tr><td>PKGTYPE</td><td>&#x27;s&#x27; if source, &#x27;b&#x27; if binary package, &#x27;&#x27; if not a package</td></tr></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="custom-tables-and-data-files"></a>Custom tables and data files<a class="hash-link" href="#custom-tables-and-data-files" title="Direct link to heading">#</a></h2><p>You can create whatever custom tables and files that you need. FOSSology won&#x27;t remove tables in the database that it didn&#x27;t create. Data files can be located anywhere, including <code>$PROJECTSTATEDIR/bucketpools/{bucketpool_pk}</code>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="examples"></a><strong>Examples</strong><a class="hash-link" href="#examples" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-1-hello-world-shell"></a>Example 1: Hello World (shell)<a class="hash-link" href="#example-1-hello-world-shell" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly Bash"><div tabindex="0" class="prism-code language-Bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> #!/bin/bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  # Everthing will get put into this bucket because it always returns zero (success)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cd /tmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;FILENAME: &quot;, $FILENAME &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;LICENSES: &quot;, $LICENSES &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;PKGNAME: &quot;, $PKGNAME &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;PKGVERS: &quot;, $PKGVERS &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;VENDOR: &quot;, $VENDOR &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;SRCPKGNAME: &quot;, $SRCPKGNAME &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;UPLOADTREE_PK: &quot;, $UPLOADTREE_PK &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;PFILE_PK: &quot;, $PFILE_PK &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;PKGTYPE: &quot;, $PKGTYPE &gt;&gt; testexec.out</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;LOG: testexec is done (this will be written to the fossology log file)&quot; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  # return success</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  exit 0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-2-simple-php-script"></a>Example 2: Simple PHP script<a class="hash-link" href="#example-2-simple-php-script" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly PHP"><div tabindex="0" class="prism-code language-PHP codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#!/usr/bin/php</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  global $GlobalReady;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $GlobalReady = 1;   // required for pathinclude.php to read common php functions</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // pathinclude.php defines global variables $WEBDIR, $SYSCONFDIR, etc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  require_once (&#x27;/usr/local/share/fossology/php/pathinclude.php&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  require_once (&quot;$WEBDIR/common/common.php&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $path=&quot;$SYSCONFDIR/$PROJECT/Db.conf&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $PG_CONN = pg_pconnect(str_replace(&quot;;&quot;, &quot; &quot;, file_get_contents($path)));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if ($PG_CONN === false)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  { </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    echo &quot;FATAL: failed to open fossology db\n&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return(1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $sql = &quot;select count(*) as count from license_file&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $result = pg_query($PG_CONN, $sql);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  DBCheckResult($result, $sql, __FILE__, __LINE__);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $row = pg_fetch_assoc($result);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  pg_free_result($result);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;license_file count is $row[count]\n&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;LOG: hello from db connected php script\n&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  $envVals = array(&quot;FILENAME&quot;, &quot;PKGNAME&quot;, &quot;SRCPKGNAME&quot;, &quot;LICENSES&quot;, &quot;PKGVERS&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                   &quot;VENDOR&quot;, &quot;UPLOADTREE_PK&quot;, &quot;PFILE_PK&quot;, &quot;PKGTYPE&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  foreach ($envVals as $envVal) echo $envVal, getenv($envVal),&quot; \n&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  pg_close($PG_CONN);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  echo &quot;LOG: Good-bye\n&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">?&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="step-by-step"></a><strong>Step by Step</strong><a class="hash-link" href="#step-by-step" title="Direct link to heading">#</a></h1><p>Buckets were made to be defined by an IT or sysadmin person because of the technical skill required. Specifically, they should understand regular expressions and possibly scripting. If you aren&#x27;t a programmer or system administrator the term &quot;regular expression&quot; probably means nothing to you. So for this step by step, just enter in the values I specify in the instructions.</p><p>Here are step by step instructions for creating a bucketpool called &quot;mybuckets&quot; and a bucket to group all the Apache Software Foundation licenses. I am assuming that you know how to insert records into a database. For example, you might use phppgadmin, pgadminIII, or psql. If you want a simple web interface to the database, install phppgadmin.</p><p><strong>1) Create a bucketpool record in the fossology database.</strong></p><p>Buckets are used in sets called bucketpools. So you could have a bucket pool called &quot;my experiments&quot;. In this pool you will create your apache bucket. So the first step is to insert a bucketpool record into the database table &#x27;bucketpool&#x27;. If you are unfamiliar with sql, you can use a program like phppgadmin which will give you a web browser interface to the database. I&#x27;m going to assume you have phppgadmin installed and know how to use it to browse the fossology database. To add a new bucketpool record, click on table &#x27;bucketpool&#x27;, then Insert. Type in a bucketpool name, and a description of what this bucket pool is for and then click on Insert. You won&#x27;t need to change any of the other default values.</p><p><strong>2) Get the bucketpool key.</strong></p><p>After you insert the bucket pool record in step 1, stay in phppgadmin and click on the bucketpool table, then click on &#x27;Browse&#x27;. This will show you a list of all your bucketpool records. The one you just added should be the last one. Look at the bucketpool_pk of the record you just added and remember it. If your only other bucketpool is the demo, then your new one should be bucketpool_pk = 2. But whatever it is, remember it for step 3.</p><p><strong>3) Create the bucket definition</strong> (the actual bucket that will group all the different apache license versions).</p><p>In phppgadmin, click on table &#x27;bucket_def&#x27;, then insert. Leave all the default values for now. Fill in the following fields:</p><ol><li><ul><li>bucket_name This is the name of your bucket. In this case something like &quot;All Apache Licenses&quot; seems appropriate.</li></ul></li><li><ul><li>bucketpool_fk This is the bucketpool_pk that you remember from step 2. Don&#x27;t worry that one is called _fk and the other is _pk, that is not an error.</li></ul></li><li><ul><li>bucket_type Enter the number 3</li></ul></li><li><ul><li>bucket_regex Enter &quot;apache&quot; (but without the quotes)</li></ul></li><li><ul><li>bucket_filename Click on the Null checkbox</li></ul></li><li><ul><li>Hit insert</li></ul></li></ol><p>To add more bucket definitions to the same bucketpool, all you need to do is repeat step 3. You should create one more bucket.</p><p><strong>4) Create bucket for all files that are not in any other bucket.</strong></p><p>It is important that every file go into a bucket. This is what bucket_type 99 is for. </p><p>Repeat step 3:</p><ol><li><ul><li>bucket_name &quot;Not in any other bucket&quot;</li></ul></li><li><ul><li>bucket_evalorder 1000</li></ul></li><li><ul><li>bucketpool_fk same as in step 3</li></ul></li><li><ul><li>bucket_type 99</li></ul></li><li><ul><li>bucket_regex click on NULL checkbox</li></ul></li><li><ul><li>bucket_filename click on NULL checkbox</li></ul></li><li><ul><li>Hit insert</li></ul></li></ol><p><strong>5) make your new bucket your default</strong></p><p>If you have gotten this far, your new bucketpool and bucket are defined and ready to use, so make your new bucketpool your default. In the fossology user interface, click on &quot;Admin&quot; &gt; &quot;Users&quot; &gt; &quot;Account Settings&quot; to change your user settings.</p><ol><li><ul><li>Enter your password in the &quot;enter your password&quot; field.</li></ul></li><li><ul><li>Where it says &quot;Default bucketpool&quot;, select your new bucketpool from the pull down.</li></ul></li><li><ul><li>Click on &quot;Update&quot; to update your account.</li></ul></li></ol><p>You are all set. To use your new bucket, upload a file and select &quot;Buckets&quot; as one of the scans you want to run.</p><p>If you are successful with the above, then I can tell you more about more complicated buckets.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="notes"></a>Notes<a class="hash-link" href="#notes" title="Direct link to heading">#</a></h3><ol><li>As you can see from the above, a lot more could be done to make buckets easier to define and use. Your vote counts.</li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Aman-Codes/fossology-blogs/edit/master/docs/docs/Buckets.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fossology-blogs/docs/docs/Autoloading"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Autoloading</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fossology-blogs/docs/docs/Building-Fossology-using-pbuilder"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building Fossology using [[project builder| http://www.project-builder.org/]] Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bucket-pools" class="table-of-contents__link">Bucket Pools</a></li><li><a href="#bucket-definitions" class="table-of-contents__link">Bucket Definitions</a><ul><li><a href="#table-bucket_def" class="table-of-contents__link">Table: bucket_def</a></li><li><a href="#column-bucket_type" class="table-of-contents__link">Column: bucket_type</a></li></ul></li><li><a href="#custom-tables-and-data-files" class="table-of-contents__link">Custom tables and data files</a></li><li><a href="#example-1-hello-world-shell" class="table-of-contents__link">Example 1: Hello World (shell)</a></li><li><a href="#example-2-simple-php-script" class="table-of-contents__link">Example 2: Simple PHP script</a><ul><li><a href="#notes" class="table-of-contents__link">Notes</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fossology-blogs/docs/welcome">Documentation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/fossology/shared_invite/enQtNzI0OTEzMTk0MjYzLTYyZWQxNDc0N2JiZGU2YmI3YmI1NjE4NDVjOGYxMTVjNGY3Y2MzZmM1OGZmMWI5NTRjMzJlNjExZGU2N2I5NGY" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCZGPJnQZVnEPQWxOuNamLpw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fossology-blogs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Aman-Codes/fossology-blogs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 FOSSology. All Rights Reserved.</div></div></div></footer></div>
<script src="/fossology-blogs/assets/js/runtime~main.79e86940.js"></script>
<script src="/fossology-blogs/assets/js/main.8bcf8826.js"></script>
</body>
</html>